<!doctype html>
<html layout:decorate = "~{usr/common/layout}" >
<head >
	<title >회원가입</title >
	<!-- toastr 옵션 -->

</head >

<body >
<!-- 회원가입  -->
<section class = "m-8 flex" layout:fragment="content">
	<div class = "w-2/5 h-full hidden lg:block" >
		<img src = "https://image.musinsa.com/mfile_s01/2019/03/18/156005c5baf40ff51a327f1c34f2975b203251.jpg"
			 alt = "로그인 이미지" class = "h-full w-full object-cover rounded-3xl" >
	</div >
	<div class = "w-full lg:w-3/5 flex flex-col items-center justify-center" >
		<div class = "text-center" >
			<h2 class = "block antialiased tracking-normal font-sans text-4xl leading-[1.3] text-inherit font-bold mb-4" >
				HealMingle
			</h2 >
			<h3 class = "block antialiased tracking-normal font-sans text-4xl leading-[1.3] text-inherit font-bold mb-4" >
				Sing up
			</h3 >
		</div >
		<form th:action method="POST" onsubmit="submitJoinForm(this);" class = "mt-8 mb-2 mx-auto w-80 max-w-screen-lg lg:w-1/2" >
			<div class = "mb-1 flex flex-col gap-6" >
				<!--      아이디    -->
				<label class = "input input-bordered flex items-center gap-2" >
					<svg xmlns = "http://www.w3.org/2000/svg" viewBox = "0 0 16 16" fill = "currentColor"
						 class = "w-4 h-4 opacity-70" >
						<path d = "M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM12.735 14c.618 0 1.093-.561.872-1.139a6.002 6.002 0 0 0-11.215 0c-.22.578.254 1.139.872 1.139h9.47Z" />
					</svg >
					<input type = "text" class = "grow" placeholder = "Username" name = "username" />
				</label >
				<!--      비밀번호    -->
				<label class = "input input-bordered flex items-center gap-2" >
					<svg xmlns = "http://www.w3.org/2000/svg" viewBox = "0 0 16 16" fill = "currentColor"
						 class = "w-4 h-4 opacity-70" >
						<path fill-rule = "evenodd"
							  d = "M14 6a4 4 0 0 1-4.899 3.899l-1.955 1.955a.5.5 0 0 1-.353.146H5v1.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2.293a.5.5 0 0 1 .146-.353l3.955-3.955A4 4 0 1 1 14 6Zm-4-2a.75.75 0 0 0 0 1.5.5.5 0 0 1 .5.5.75.75 0 0 0 1.5 0 2 2 0 0 0-2-2Z"
							  clip-rule = "evenodd" />
					</svg >
					<input type = "password" class = "grow" placeholder = "password" name = "password" />
				</label >
				<!--      비밀번호 입력 확인    -->
				<label class = "input input-bordered flex items-center gap-2" >
					<svg xmlns = "http://www.w3.org/2000/svg" viewBox = "0 0 16 16" fill = "currentColor"
						 class = "w-4 h-4 opacity-70" >
						<path fill-rule = "evenodd"
							  d = "M14 6a4 4 0 0 1-4.899 3.899l-1.955 1.955a.5.5 0 0 1-.353.146H5v1.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2.293a.5.5 0 0 1 .146-.353l3.955-3.955A4 4 0 1 1 14 6Zm-4-2a.75.75 0 0 0 0 1.5.5.5 0 0 1 .5.5.75.75 0 0 0 1.5 0 2 2 0 0 0-2-2Z"
							  clip-rule = "evenodd" />
					</svg >
					<input type = "password" class = "grow" placeholder = "password check" name = "passwordConfirm" />
				</label >
				<!--      이메일    -->
				<label class = "input input-bordered flex items-center gap-2" >
					<i class = "fa-regular fa-envelope w-4 h-4 opacity-70" ></i >
					<input type = "email" class = "grow" placeholder = "email" name = "email" />
				</label >
				<!--      별명    -->
				<label class = "input input-bordered flex items-center gap-2" >
					<i class = "fa-solid fa-user-tie w-4 h-4 opacity-70" ></i >
					<input type = "text" class = "grow" placeholder = "nickname" name = "nickname" />
				</label >
				<!--      직업    -->
				<div class = "w-full" >
					<select class = "select select-bordered w-full font-semibold" name = "jop" >
						<!-- html에서 name이랑 back에서 정보를 받는 이름이 다를 시 정보가 넘어가지 않고 null로 넘어감-->
						<option disabled selected >Choose a jop</option >
						<option value = "PHYSIOTHERAPIST" >물리치료사</option >
						<option value = "MANUAL_THERAPIST" >도수치료사</option >
						<option value = "NURSE" >간호사</option >
						<option value = "NURSING_ASSISTANT" >간호조무사</option >
						<option value = "DOCTOR" >의사</option >
					</select >
				</div >
				<button type = "submit" class = "custom-btn btn-5 w-full bg-black text-white" ><span >Sing in</span >
				</button >
				<!--      로그인 그외 페이지 이동경로는 나중에 추가 예정    -->
			</div >
		</form >
	</div >

	<script >
		let submitJoinFormDone = false;
		function submitJoinForm(form) {

			if ( submitJoinFormDone ) return;
		   // username 이(가) 올바른지 체크

		   form.username.value = form.username.value.trim(); // 입력란의 입력값에 있을지 모르는 좌우공백제거

		   if (form.username.value.length == 0) {
			   toastWarning('아이디를 입력해주세요.');
			   form.username.focus();
			   return;
		   }

		   if (form.username.value.length < 4) {
			   toastWarning('아이디를 4자 이상 입력해주세요.');
			   form.username.focus();
			   return;
		   }

		   // password 이(가) 올바른지 체크

		   form.password.value = form.password.value.trim(); // 입력란의 입력값에 있을지 모르는 좌우공백제거

		   if (form.password.value.length == 0) {
			   form.password.focus();
			   toastWarning('비밀번호를 입력해주세요.');
			   return;
		   }

		   if (form.password.value.length < 4) {
			   toastWarning('비밀번호를 4자 이상 입력해주세요.');
			   form.password.focus();
			   return;
		   }

		   // passwordConfirm 이(가) 올바른지 체크

		   form.passwordConfirm.value = form.passwordConfirm.value.trim(); // 입력란의 입력값에 있을지 모르는 좌우공백제거

		   if (form.passwordConfirm.value.length == 0) {
			   form.passwordConfirm.focus();
			   toastWarning('비밀번호 확인(을)를 입력해주세요.');
			   return;
		   }

		   if (form.passwordConfirm.value.length < 4) {
			   toastWarning('비밀번호 확인을(를) 4자 이상 입력해주세요.');
			   form.passwordConfirm.focus();
			   return;
		   }

		   if ( form.password.value != form.passwordConfirm.value ) {
		        toastWarning('비밀번호를 확인이 일치하지 않습니다.');
                form.passwordConfirm.focus();
                return;
           }

            // email 이(가) 올바른지 체크

		   form.email.value = form.email.value.trim(); // 입력란의 입력값에 있을지 모르는 좌우공백제거

		   if (form.email.value.length == 0) {
			   toastWarning('이메일을(를) 입력해주세요.');
			   form.email.focus();
			   return;
		   }

		   if (form.nickname.value.length < 4) {
			   toastWarning('이메일을(를) 4자 이상 입력해주세요.');
			   form.email.focus();
			   return;
		   }

		   // nickname 이(가) 올바른지 체크

		   form.nickname.value = form.nickname.value.trim(); // 입력란의 입력값에 있을지 모르는 좌우공백제거

		   if (form.nickname.value.length == 0) {
			   toastWarning('별명을 입력해주세요.');
			   form.nickname.focus();
			   return;
		   }

		   if (form.nickname.value.length < 4) {
			   toastWarning('별명을 4자 이상 입력해주세요.');
			   form.nickname.focus();
			   return;
		   }

		    form.jop.value = form.jop.value.trim(); // 입력란의 입력값에 있을지 모르는 좌우공백제거

		 	if (form.jop.value === "Choose a jop" || form.jopChoose.value === "") {
			toastWarning('직업을 선택해주세요.');
			form.jop.focus();
			return;
		}

		   form.submit(); // 폼 발송
		   submitJoinFormDone = true;
	   }
	</script >

</section >

</body >
</html >